<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>表单验证</title>
</head>

<body>
    <input type="button" value="回" id="Q">
    <input type="button" value="再跳" id="W">
    <form name="valiform" method="POST" onsubmit="return Validate()">
        <table>
            <tr>
                <th>用户名</th>
                <td>
                    <input type="text" name="username" />
                    <span>

                    </span>
                </td>

            </tr>
            <tr>
                <th> 邮箱</th>
                <td>
                    <input type="text" name="email" />
                    <span>

                    </span>
                </td>
            </tr>
            <tr>
                <th>年龄</th>
                <td>
                    <input type="text" name="age" />
                    <span>

                    </span>
                </td>
            </tr>
            <tr>
                <th>手机</th>
                <td>
                    <input type="text" name="tel" />
                    <span>

                    </span>
                </td>
            </tr>
            <tr>
                <th>角色</th>
                <td>
                    学生
                    <input type="radio" checked name="role" value="tea" />
                    老师
                    <input type="radio" name="role" value="stu" />
                    <span>

                    </span>
                </td>
            </tr>
            <tr>
                <th>操作</th>
                <td>
                    <input type="submit" id="btnsubmit" value="提交" />
                    <input type="button" id="btnA" value="ajax提交" />
                </td>
            </tr>
        </table>
    </form>
</body>


<script type="text/javascript">
    document.getElementById("Q").onclick = function () {
        window.history.go(-1);
        // window.history.back();
    }
    document.getElementById("W").onclick = function () {
        window.location.href="456.html"
    }


    function Validate() {
        //姓名
        var uname = document.forms['valiform'].username.value;
        if (uname === "") {
            //下一个元素插入红色提示
            document.forms['valiform'].username.nextElementSibling.innerHTML =
                "<span style='color:red'>姓名不能为空</span>";
            return false;
        }
        //姓名正则表达式"^([\\u4e00-\\u9fa5]{1,20}|[a-zA-Z\\.\\s]{1,20})$")
        var regex = /^[A-Z]{1,3}[A-Z]{1}$/i
        if (regex.test(uname) == false) {
            document.forms['valiform'].username.nextElementSibling.innerHTML =
                "<span style='color:red'>请输入正确的姓名</span>";
            return false;
        }
        //邮箱
        var uemail = document.forms['valiform'].email.value;
        if (uemail === "") {

            document.forms['valiform'].email.nextElementSibling.innerHTML = "<span style='color:red'>邮箱不能为空</span>";
            return false;
        }
        //邮箱正则表达式
        var regex = /^\s*[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;
        if (regex.test(uemail) == false) {
            document.forms['valiform'].email.nextElementSibling.innerHTML =
                "<span style='color:red'>邮箱格式不正确</span>";
            return false;
        }
        //年龄
        var uage = document.forms['valiform'].age.value;
        if (uage === "") {
            document.forms['valiform'].age.nextElementSibling.innerHTML = "<span style='color:red'>年龄不能为空</span>";
            return false;
        }
        //年龄格式
        if (isNaN(uage) == true) {
            document.forms['valiform'].age.nextElementSibling.innerHTML = "<span style='color:red'>年龄必须为数字</span>";
            return false;
        }
        //年龄正则表达式;
        var regex2 = /^[1-9]{1}[0-9]{0,1}$|^[1-9]{1}[0-4]{1}[0-9]{1}$/;
        if (regex2.test(uage) == false) {
            document.forms['valiform'].age.nextElementSibling.innerHTML = "<span style='color:red'>年龄格式不正确</span>";
            return false;
        }

        //电话
        var utel = document.forms['valiform'].tel.value;
        if (utel == "") {
            document.forms['valiform'].tel.nextElementSibling.innerHTML = "<span style='color:red'>手机号码不能为空</span>";
            return false;
        }
        //电话正则表达式
        var regex1 = /^1{1}[3-9]{1}[0-9]{9}$|110$|120$|119$/;
        if (regex1.test(utel) == false) {
            document.forms['valiform'].tel.nextElementSibling.innerHTML =
                "<span style='color:red'>请输入正确的电话号码</span>";
            return false;
        }
        //表单动态提交
        if (document.forms['valiform'].role.value == 'stu') {
            document.forms['valiform'].action = "js版贪吃蛇.html";
        }
        if (document.forms['valiform'].role.value == 'tea') {
            document.forms['valiform'].action = "getElementBy函数.html";
        }
    };
</script>

</html>